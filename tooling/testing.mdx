---
title: Testing tx3
sidebar:
    order: 5
---

The testing tool is designed to assist developers in writing tests and validating their tx3 files.
It provides a structured way to define test cases and verify the expected outcomes of executing tx3 code. 

## Writing

Tests for tx3 files are written using the `TOML` format. A TOML test file typically includes the following sections:

### Wallets

Define the initial state of wallets involved in the test. You can use descriptive names like `bob` and `alice` for clarity. Each wallet should specify its initial balance or assets.

```toml
[[wallets]]
name = "bob"
lovelace = 10000000

[[wallets]]
name = "alice"
lovelace = 5000000

[[wallets.assets]]
name = "Token"
policy = "0x"
amount = 1
```

### Transaction

Specify the test cases of the tx3 template.

```toml
[[transactions]]
description = "bob sends 2 ada to alice"
template = "transfer"
args = { quantity = 2000000, sender = "bob", receiver = "alice" }

[[transactions]]
description = "alice sends back 1 ada to bob"
template = "transfer"
args = { quantity = 10000000, sender = "alice", receiver = "bob" }
```

### Expect

Define the expect state after the tx3 function has been executed. This section should specify the expected final values for wallets, outputs, or any other relevant state.

```toml
[[expects]]
wallet = "bob"
lovelace = 9000000

[[expects]]
wallet = "alice"
lovelace = 6000000
```

## Example

Here is a complete example of a TOML test file:

```toml
[[wallets]]
name = "bob"
lovelace = 10000000

[[wallets]]
name = "alice"
lovelace = 5000000

[[wallets.assets]]
name = "Token"
policy = "0x"
amount = 1

[[transactions]]
description = "bob sends 30 ada to alice"
template = "transfer"
args = { quantity = 30, sender = "bob", receiver = "alice" }

[[transactions]]
description = "alice sends back 20 ada to bob"
template = "transfer"
args = { quantity = 20, sender = "alice", receiver = "bob" }

[[expects]]
wallet = "bob"
lovelace = 9000000

[[expects]]
wallet = "alice"
lovelace = 6000000
```

This test file defines two wallets, `bob` and `alice`, with initial lovelace amounts. It specifies the test cases for a `transfer` template and defines the expected lovelace amounts for 
both wallets after the test cases executed.
